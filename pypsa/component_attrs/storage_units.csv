attribute,type,unit,default,description,status
name,string,n/a,n/a,Unique name,Input (required)
bus,string,n/a,n/a,Name of bus to which storage unit is attached.,Input (required)
control,string,n/a,PQ,"P,Q,V control strategy for PF, must be ""PQ"", ""PV"" or ""Slack"".",Input (optional)
type,string,n/a,n/a,Placeholder for storage unit type. Not yet implemented.,Input (optional)
p_nom,float,MW,0,Nominal power for limits in OPF.,Input (optional)
p_nom_extendable,boolean,n/a,False,Switch to allow capacity p_nom to be extended in OPF.,Input (optional)
p_nom_min,float,MW,0,"If p_nom is extendable in OPF, set its minimum value.",Input (optional)
p_nom_max,float,MW,inf,"If p_nom is extendable in OPF, set its maximum value (e.g. limited by potential).",Input (optional)
p_min_pu,static or series,per unit,-1,The minimum output for each snapshot per unit of p_nom for the OPF (negative sign implies storing mode withdrawing power from bus).,Input (optional)
p_max_pu,static or series,per unit,1,The maximum output for each snapshot per unit of p_nom for the OPF.,Input (optional)
p_set,static or series,MW,0,active power set point (for PF),Input (optional)
q_set,static or series,MVar,0,reactive power set point (for PF),Input (optional)
sign,float,n/a,1,power sign,Input (optional)
carrier,string,n/a,n/a,"Prime mover energy carrier (e.g. coal, gas, wind, solar); required for global constraints on primary energy in OPF",Input (optional)
marginal_cost,static or series,currency/MWh,0,Marginal cost of production of 1 MWh.,Input (optional)
capital_cost,float,currency/MW,0,Capital cost of extending p_nom by 1 MW.,Input (optional)
state_of_charge_initial,float,MWh,0,State of charge before the snapshots in the OPF.,Input (optional)
state_of_charge_set,static or series,MWh,NaN,State of charge set points for snapshots in the OPF.,Input (optional)
cyclic_state_of_charge,boolean,n/a,False,"Switch: if True, then state_of_charge_initial is ignored and the initial state of charge is set to the final state of charge for the group of snapshots in the OPF (soc[-1] = soc[len(snapshots)-1]).",Input (optional)
max_hours,float,hours,1,Maximum state of charge capacity in terms of hours at full output capacity p_nom,Input (optional)
efficiency_store,float,per unit,1,Efficiency of storage on the way into the storage.,Input (optional)
efficiency_dispatch,float,per unit,1,Efficiency of storage on the way out of the storage.,Input (optional)
standing_loss,float,per unit,0,Losses per hour to state of charge.,Input (optional)
inflow,static or series,MW,0,"Inflow to the state of charge, e.g. due to river inflow in hydro reservoir.",Input (optional)
control_strategy,string,n/a,n/a,"Inverter control type, supported types are: q_v (v1, v2, v3, v4, s_nom, power_factor, damper), fixed_cosphi (power_factor) , and cosphi_p (set_p1,  set_p2, s_nom, power_factor_min, p_ref), for futher details regarding supported control_types, read here:  https://pypsa.readthedocs.io/en/latest/power_flow.html .",Input (optional)
power_factor,static or series,n/a,1,"Power factor is default to 1 and can take values (0, 1], required when control_strategy is chosen ""fixed_cosphi"" and ""q_v"". This factor is used to calculate the amount of reactive power compensation according to the active power generation and the amount of available reactive power capacity  of the inverter. For further details: https://pypsa.readthedocs.io/en/latest/power_flow.html.",Input (optional)
s_nom,float,MVA,1,"Inverter nominal apparent power, required when control_strategy is chosen ""q_v""  or  ""cosphi_p"".",Input (optional)
v1,float,n/a,0.9,"Minimum voltage magnitude per unit for left curve of q_v controller, required when control_strategy is chosen  ""q_v"".  v1 togeather with v2, v3 and v4 are set points for q_v controller reactive power compensation curve. Controller decides the amount of reactive power after finding the location of v_mag_pu of the bus (inverter is connected to) on this curve. This curve has five zones according to possible locations for v_mag_pu of the controlled bus. Zone 1: where v_mag_pu bus is less than v1,  Zone 2: where v_mag_pu bus is between v1 and v2, Zone 3: where v_mag_pu bus is between v2 and v3, Zone 4: where v_mag_pu bus is between v3 and v4 and Zone 5: where v_mag_pu is greater than v4. Zone 1 is undervoltage case, Zone 2 is between normal and undervoltage, zone 3 is neutral zone where no compensation is needed, zone 4 is between normal range and overvoltage and zone 5 is the overvoltage zone. According to the location of v_mag_pu of the bus, controller will provide an amount of reactive power to bring the voltage as closer as possible to zone 3, Therefore, pay attention on choice of v2 and v3 since they form zone 3 where controller recognizes it as the zone that needs no reactive power compensation and uses it as the reference to provide reactive power for other zones occurance.  Note: Throughout the curve this relation v1 < v2 < v3 < v4 should be considered. For further details  https://pypsa.readthedocs.io/en/latest/power_flow.html.",Input (optional)
v2,float,n/a,0.95,"Maximum voltage magnitude per unit for left curve of q_v controller, required when control_strategy is chosen  ""q_v"", for further details  please read the description for v1.",Input (optional)
v3,float,n/a,0.96,"Minimum voltage magnitude per unit for right curve of q_v controller, required when control_strategy is chosen  ""q_v"", for further details  please read the description for v1.",Input (optional)
v4,float,n/a,1.01,"Maximum voltage magnitude per unit for right curve of q_v controller, required when control_strategy is chosen  ""q_v"", for further details  please read the description for v1.",Input (optional)
damper,float,n/a,1,"Damper value is default to 1 but it can take values (0, 1] and controls output (it is multiplied to the controller output ) of the voltage dependent controllers by changing its value in case controller is not converging, It helps the controller to converge without affecting the pf results.   required when control_strategy is chosen  ""q_v"" .",Input (optional)
set_p1,float,n/a,50,"It is a set point  in percentage, where it tells the controller to work with unity power factor if  (p_set / p_ref)*100  <  set_p1, (see description for p_ref). Required when control_strategy is  chosen  ""cosphi_p"". For further details https://pypsa.readthedocs.io/en/latest/power_flow.html.",Input (optional)
set_p2,float,n/a,100,"It is a set point in percentage,  where it tells controller to work with ""power_factor_min"" if  (p_set / p_ref)*100   >  set_p2, (see the description for p_ref) required when the control_strategy is  chosen  ""cosphi_p"".  For further details https://pypsa.readthedocs.io/en/latest/power_flow.html.",Input (optional)
p_ref,float,MW,0.1,"It is a set point for cosphi_p inverter control for power factor choice. Using p_ref controller recognizes three zones, Zone1: p_set / p_ref <= set_p1, Zone2: set_p2 > p_set / p_ref  > set_p1 and Zone 3: p_set / p_ref > set_p2. For zone 1, controller work with unity power factor (no reactive power compensation), for zone 2, controller chooses the right power factor according to the controller droop and for zone 3, controller work with power_factor_min for reactive power compensation. Required when control_strategy is  chosen  ""cosphi_p"". For further details https://pypsa.readthedocs.io/en/latest/power_flow.html.",Input (optional)
power_factor_min,float,n/a,0.9,"Minimum allowed power factor, required when control_strategy is chosen  ""cosphi_p"".  Controller will start operating with power_factor_min when (see description for p_ref )  p_set / p_ref *100 > set_p2. For further details  https://pypsa.readthedocs.io/en/latest/power_flow.html .",Input (optional)
p,series,MW,0,active power at bus (positive if net generation),Output
p_dispatch,series,MW,0,active power dispatch at bus,Output
p_store,series,MW,0,active power charging at bus,Output
q,series,MVar,0,reactive power (positive if net generation),Output
state_of_charge,series,MWh,NaN,State of charge as calculated by the OPF.,Output
spill,series,MW,0,Spillage for each snapshot.,Output
p_nom_opt,float,MW,0,Optimised nominal power.,Output
mu_upper,series,currency/MWh,0,Shadow price of upper p_nom limit,Output
mu_lower,series,currency/MWh,0,Shadow price of lower p_nom limit,Output
mu_state_of_charge_set,series,currency/MWh,0,Shadow price of fixed state of charge state_of_charge_set,Output
